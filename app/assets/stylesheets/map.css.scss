@import "compass";
@import "compass/reset";
@import "sprites";
@import "helpers";

#map-container {
  position:relative;

  .map {
    width:100%;
    height:400px;
    margin:auto;
    border-top: 1px solid #717D80;
    border-bottom: 1px solid #717D80;
  }


  .circle {
    $width: 318px;

    top: -100px;
    left: 50%;

    position:absolute;
    margin-left: -1*$width/2;
    margin-top: -1*$width/2;

    opacity:0;

    width: $width;
    height: $width;
    @include icons-sprite(circle);

    text-align:center;

    .inner {
      position:relative;
      top:100px;
    }

    .inner > .title {
      margin:auto;
      width:175px;
      font: 15px "Helvetica Neue", sans-serif;
      font-weight:200;
      color:$cWhite;
      /*opacity:0.75;*/
      opacity: 0;
    }

    .inner > .counter {
      text-align:center;
      font: 67px "Georgia", serif;
      font-weight:200;
      color: $cLink;
      opacity: 0;
    }
  }

  .draw { position:absolute; top: 20px; left: 70px; z-index:100; }


  #layer {
    position:absolute;
    top: 0;
    left:0;
    width:159px;
    height:250px;
    z-index:1000;
    opacity:0;

    & > a {
      display:block;
      text-align:center;
      position:absolute;
      top: 46px;
      position:relative;

      color:$cConcessions;
      font: bold 12px "Helvetica Neue", sans-serif;
      text-transform: uppercase;
      text-decoration: none;
    }

    .line {
      position:relative;
      background-color: $cConcessions;
      top:61px;
      left:0;
      height: 4px;
      width:auto;
    }

    .icon  { position:absolute; top: 30px; left:50%; margin: -8px; width:16px; height:16px; }

    @extend .filter-links;
    @extend .filter-lines;
    @extend .filter-icons;

    background-color:rgb(255,255,255);
    -moz-box-shadow:0px 0px 5px 1px rgba(0,0,0,0.15);
    -webkit-box-shadow:0px 0px 5px 1px rgba(0,0,0,0.15);
    box-shadow:0px 0px 5px 1px rgba(0,0,0,0.15);
    -ms-filter:"progid:DXImageTransform.Microsoft.Glow(Color=#ff000000,Strength=6)";
    filter:progid:DXImageTransform.Microsoft.Glow(Color=#ff000000,Strength=6);
  }


  .layers > ul {
    position:absolute;
    left:-100;
    top: 0;
    background:white;
    z-index:1000;
    opacity:0;

    li {
      background:$cWhite;
      padding: 17px 13px;
      border-top: 1px solid #f1f1f1;
    }

    li a {
      color:$cConcessions;
      text-decoration:none;
      font: 13px "Helvetica Neue", sans-serif;
      font-weight:200;
      &:hover { color:$cConcessionsHover; }
    }
  }

  .filters {
    height: 20px;

    $width: 924px;
    @include absolute-center($width);
    @include clearfix();

    position:absolute;
    width: $width;
    top: -61px;
    overflow:hidden;

    padding: 40px 0 0 0;

    border-top: 1px solid $cLightGray;
    z-index:1000;
  }

  .filters .advance {
    display:block;
    position:absolute;
    right: 10px;
    top: 20px;
    width:20px;
    height:20px;
    @include icons-sprite(arrow_right);
    z-index:20;

    &:hover {
      @include icons-sprite(arrow_right_hover);
    }

    &:active {
      @include icons-sprite(arrow_right_active);
    }
  }

  .filters .white-shadow {
    width:117px;
    height:51px;
    top: 9px;
    right: -30px;
    position:absolute;
    background:url(backgrounds/bkg_filter_gradient.png) no-repeat;
    z-index:10;
  }

  .filters .inner { position:relative; }
  .filters .inner > ul { width:3000px; }
  .filters .inner > ul  > li {
    position:relative;
    float:left;
    margin: 0 1px 0 0;
    top: -30px;
    padding:30px 0 0 0;

    text-align: center;

    @extend .filter-links;
    @extend .filter-lines;
    @extend .filter-icons;

    .icon  { position:absolute; top: -20px; left:50%; margin: -8px; width:16px; height:16px; }

    .line {
      position:relative;
      bottom:0px;
      left:0;
      height: 4px;
      width:auto;
    }

    & > a {
      position:relative;
      top: -15px;
      padding: 0 14px;
      margin: 0 0 18px 0;

      color: #f1f1f1;
      font: bold 12px "Helvetica Neue", sans-serif;
      text-transform: uppercase;
      text-decoration: none;
    }
  }
}

footer {
  .inner { position:relative; width: 871px; margin: auto; }

  .links {
    height:216px;
    background:url(backgrounds/bkg_footer.png) ;
    font: 11px "Helvetica Neue";
    color: $cNormalGray;

    .logos { position:relative; top: 50px; }

    a { display: block; margin: 0 20px 0 0; @include inline-block(); }

    .google { width: 90px; height: 52px; @include icons-sprite(logo_google); }
    .cfgd { width: 72px; height: 52px; @include icons-sprite(logo_cgd); }
    .university_maryland { width: 77px; height: 52px; @include icons-sprite(logo_maryland); }
    .imazon { width: 74px; height: 52px; @include icons-sprite(logo_imazon); }

    div.wri {
      float: right;

      & > .wri { width:92px; height: 31px; margin: 10px 0 20px 0; @include icons-sprite(logo_wri); }

      address { width:266px; color: $cNormalGray; font-size:11px; line-height:120%; }
    }
  }
}

footer .download {
  padding: 50px 0;
  text-align:center;
  background: $cDarkGreen;

  h1 {
    @extend .font-big;
    margin: 0 0 4px 0;
  }

  p {
    @extend .font-regular;

    a { text-decoration: none; }
  }

  a { color: $cLink; }
}

.infowindow {
  position:absolute;

  top: 400px;
  left: 100px;
  width:211px;

  font: 11px "Helvetica Neue", sans-serif;
  color: $cDarkGray;

  z-index:100;

  & > .header {
    position:relative;
    cursor: move;

    height:45px - 34;
    background:url(backgrounds/bkg_infowindow.png) no-repeat 0 0;
    padding: 17px 23px;
    text-transform:uppercase;

    .close  { position:absolute; right: 15px; top: 22px; width: 6px; height:6px; @include icons-sprite(infowindow_close); }
    .handle { position:absolute; left: 15px;  top: 22px; width: 3px; height:5px; @include icons-sprite(infowindow_handle); }
  }

  & > .content {
    background:url(backgrounds/bkg_infowindow.png) repeat-y right 0;
    padding: 15px 20px;

    ul {
      li {
        @include inline-block();
        width:82px;
        color: $cDarkGray;
        font-size:12px;
      }
    }
  } // content

  & > .b {
    height:14px;
    background:url(backgrounds/bkg_infowindow.png) no-repeat left -45px;
  }
}

.timeline .handle {
  position:absolute;
  top: 20px;
  left: 40px;
  width: 14px;
  height: 12px;
  @include icons-sprite(timeline_handle);
  @extend .disable-selection;

  &.hidden {
    display:block;
    @include icons-sprite(timeline_handle_hidden);
  }
}

.timeline .years {
  position:absolute;
  top: 20px;

  li {

    &:nth-child(1) { margin-left: 15px; margin-right: 122px; }
    &:nth-child(2) { margin-right: 122px; }
    &:nth-child(3) { margin-right: 121px; }
    &:nth-child(4) { margin-right: 123px; }
    &:nth-child(5) { margin-right: 122px; }
    &:nth-child(6) { margin-right: 121px; }

    @include inline-block();
    height: 20px;
    font: normal 10px "Futura", sans-serif;
    color: #000;
    margin: 0 120px 0 0;
    &:last-child { width:auto; margin: 0; }
  }
}

$timelineWidth: 953px;

.timeline .inner {
  position:absolute;
  width:$timelineWidth - 8px;
  height:52px;
  background:url(backgrounds/bkg_timeline_dots_full.png) no-repeat 45px 24px;
  @extend .disable-selection;
}


.timeline .tooltip {
  position:absolute;

  top: -30px; left: 5px;
  width:86px;
  height:48px;
  @include icons-sprite(timeline_tooltip);

  & > div {
    position:absolute;
    top: 12px;
    left: 5px;
    width: 86px - 10 ;
    padding: 5;
    text-align:center;
    font: normal 13px "Futura", sans-serif;
    color: $cGray;
    text-transform: uppercase;
  }
}

.timeline  {
  position:absolute;
  bottom: 20px;
  left: 50%;
  margin-left: -1*$timelineWidth / 2;
  width:$timelineWidth;
  height:52px;
  z-index: 1000;
  cursor: default;

  background-color: $cWhite;
  border-color:rgb(102,102,102);
  border-width:1px;
  -moz-border-radius:5px; // Firefox v1.0+
  -webkit-border-radius:5px; // Safari v3.0+ and by Chrome v0.2+
  border-radius:5px; // Firefox v4.0+ , Safari v5.0+ , Chrome v4.0+ , Opera v10.5+  and by IE v9.0+
  border-style:solid;
  -moz-box-shadow:0px 0px 6px 1px rgba(0,0,0,0.15);    // Firefox v3.5+
  -webkit-box-shadow:0px 0px 6px 1px rgba(0,0,0,0.15); // Safari v3.0+ and by Chrome v0.2+
  box-shadow:0px 0px 6px 1px rgba(0,0,0,0.15);         // Firefox v4.0+ , Safari v5.1+ , Chrome v10.0+, IE v10+ and by Opera v10.5+
  -ms-filter:"progid:DXImageTransform.Microsoft.Glow(Color=#ff000000,Strength=7)";
  filter:progid:DXImageTransform.Microsoft.Glow(Color=#ff000000,Strength=7);
}


#zoom_controls {

  $zoomWidth: 36px;
  $zoomHeight: 29px; // height of the top button + border line

  position:absolute;

  top:  15px;
  left: 15px;

  z-index: 1000;

  .zoom_in, .zoom_out { position:relative; width: $zoomWidth; height: $zoomHeight; cursor: pointer; }

  .zoom_in {
    background: transparent url(icons/map_zoom.png) no-repeat 0 0;
    &:hover { background: transparent url(icons/map_zoom.png) no-repeat -1*$zoomWidth 0; }
    &:active { background: transparent url(icons/map_zoom.png) no-repeat -2*$zoomWidth 0; }
  }

  .zoom_out {
    background: transparent url(icons/map_zoom.png) no-repeat 0 -1*$zoomHeight;
    &:hover { background: transparent url(icons/map_zoom.png) no-repeat -1*$zoomWidth -1*$zoomHeight; }
    &:active { background: transparent url(icons/map_zoom.png) no-repeat -2*$zoomWidth -1*$zoomHeight; }
  }
}

